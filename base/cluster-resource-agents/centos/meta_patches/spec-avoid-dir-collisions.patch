From 8c725e6e7a4931066488a74227f902269850a263 Mon Sep 17 00:00:00 2001
From: Scott Little <scott.little@windriver.com>
Date: Mon, 2 Oct 2017 15:11:58 -0400
Subject: [PATCH 02/10] spec-avoid-dir-collisions.patch

Signed-off-by: zhipengl <zhipengs.liu@intel.com>
---
 SPECS/resource-agents.spec | 14 ++++----------
 1 file changed, 4 insertions(+), 10 deletions(-)

diff --git a/SPECS/resource-agents.spec b/SPECS/resource-agents.spec
index ec85fc2..bb96485 100644
--- a/SPECS/resource-agents.spec
+++ b/SPECS/resource-agents.spec
@@ -703,14 +703,11 @@ rm -rf %{buildroot}
 %endif
 
 %if %{with linuxha}
-%dir %{_usr}/lib/ocf
-%dir %{_usr}/lib/ocf/resource.d
-%dir %{_usr}/lib/ocf/lib
+%{_usr}/lib/ocf/lib/heartbeat/*
 
-%{_usr}/lib/ocf/lib/heartbeat
-
-%{_usr}/lib/ocf/resource.d/heartbeat
-%{_usr}/lib/ocf/resource.d/openstack
+%{_usr}/lib/ocf/resource.d/heartbeat/*
+%{_usr}/lib/ocf/resource.d/heartbeat/.ocf-*
+%{_usr}/lib/ocf/resource.d/openstack/*
 %if %{with rgmanager}
 %{_usr}/lib/ocf/resource.d/redhat
 %endif
@@ -738,8 +735,6 @@ rm -rf %{buildroot}
 
 %if %{defined _tmpfilesdir}
 %dir %attr (1755, root, root)	/run/resource-agents
-%else
-%dir %attr (1755, root, root)	%{_var}/run/resource-agents
 %endif
 
 %{_mandir}/man7/*.7*
@@ -896,7 +891,6 @@ rm -rf %{buildroot}
 %exclude %{_mandir}/man8/ldirectord.8.gz
 
 # For compatability with pre-existing agents
-%dir %{_sysconfdir}/ha.d
 %{_sysconfdir}/ha.d/shellfuncs
 
 %{_libexecdir}/heartbeat
-- 
1.8.3.1

