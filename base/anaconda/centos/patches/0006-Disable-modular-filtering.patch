From fae21a368a03200088236bd0ca60fc25a8f439f2 Mon Sep 17 00:00:00 2001
From: Angie Wang <angie.wang@windriver.com>
Date: Thu, 4 Mar 2021 22:45:49 -0600
Subject: [PATCH 1/1] Disable modular filtering

Disable modular filtering for the repositories added in kickstart

Signed-off-by: Angie Wang <angie.wang@windriver.com>
---
 pyanaconda/payload/dnfpayload.py | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/pyanaconda/payload/dnfpayload.py b/pyanaconda/payload/dnfpayload.py
index 27e2cb5..e810efd 100644
--- a/pyanaconda/payload/dnfpayload.py
+++ b/pyanaconda/payload/dnfpayload.py
@@ -373,6 +373,9 @@ class DNFPayload(payload.PackagePayload):
                 log.error("Failed to parse proxy for _add_repo %s: %s",
                           ksrepo.proxy, e)
 
+        # Disable filtering of modular packages
+        repo.module_hotfixes = True
+
         if ksrepo.cost:
             repo.cost = ksrepo.cost
 
-- 
1.8.3.1

