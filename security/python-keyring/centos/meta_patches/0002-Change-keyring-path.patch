From 24495360d35937959dff0ab0cd158f8ecfcf064b Mon Sep 17 00:00:00 2001
From: Angie Wang <angie.wang@windriver.com>
Date: Fri, 12 Mar 2021 11:57:05 -0600
Subject: [PATCH 2/2] Change keyring path

Update keyring path to /opt/platform/.keyring

Signed-off-by: Angie Wang <angie.wang@windriver.com>
---
 SPECS/python-keyring.spec | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/SPECS/python-keyring.spec b/SPECS/python-keyring.spec
index c925bbf..f861c63 100644
--- a/SPECS/python-keyring.spec
+++ b/SPECS/python-keyring.spec
@@ -16,6 +16,9 @@ URL:            https://github.com/jaraco/keyring
 Source0:        https://files.pythonhosted.org/packages/source/k/keyring/keyring-%{version}.tar.gz
 BuildArch:      noarch
 
+Patch0: no_keyring_password.patch
+Patch1: keyring_path_change.patch
+
 %global desc The Python keyring lib provides a easy way to access the system keyring\
 service from python. It can be used in any application that needs safe\
 password storage.\
@@ -74,18 +77,14 @@ BuildRequires:  python%{python3_pkgversion}-devel
 BuildRequires:  python%{python3_pkgversion}-setuptools
 BuildRequires:  python%{python3_pkgversion}-setuptools_scm
 %if 0%{?with_tests}
-%if 0%{?fedora} < 32
 BuildRequires:  python%{python3_pkgversion}-importlib-metadata
-%endif
 BuildRequires:  python%{python3_pkgversion}-pytest
 BuildRequires:  python%{python3_pkgversion}-pytest-cov
 BuildRequires:  python%{python3_pkgversion}-pytest-flakes
 %endif
 
 Requires:       python%{python3_pkgversion}-SecretStorage
-%if 0%{?fedora} < 32
 Requires:       python%{python3_pkgversion}-importlib-metadata
-%endif
 
 %{?python_provide:%python_provide python%{python3_pkgversion}-keyring}
 
-- 
1.8.3.1

